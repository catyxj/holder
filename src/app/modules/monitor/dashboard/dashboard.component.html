
<div class="content">
  <div class="mat-card-title">
    <h5 class="text_info pull-left">
      <i class="fa fa-tachometer"></i>
      设备概览
    </h5>
    <nav class="pull-left">
      <a routerLink="/admin/monitor/dashboard" routerLinkActive="btn_info" class="btn">图文模式</a>
      <a routerLink="/admin/monitor/list" routerLinkActive="btn_info" class="btn">列表模式</a>
      <a routerLink="/admin/monitor/map/general" routerLinkActive="btn_info" class="btn">地图模式</a>
      <a routerLink="/admin/monitor/clusters" routerLinkActive="btn_info" class="btn mr-3">集群模式</a>
    </nav>



    <div class="pull-right flex flex-row">

      <!--<div class="btn-group mr-2">
        <button class="btn" [ngClass]="{'btn-outline-info': checkValue !== 2, 'btn_info': checkValue === 2}" (click)="checkStatus(2)">
          全部
        </button>
        <button class="btn" [ngClass]="{'btn-outline-info': checkValue !== 1, 'btn_info': checkValue === 1}" (click)="checkStatus(1)">
          运行
        </button>
        <button class="btn" [ngClass]="{'btn-outline-info': checkValue !== 0, 'btn_info': checkValue === 0}" (click)="checkStatus(0)">
          未运行
        </button>
      </div>-->


      <div class="input-group">
        <input type="text" class="form-control" placeholder="请输入设备名称" [(ngModel)]="search" >
        <div class="input-group-append" (click)="searchChange()">
          <button class="btn btn_info" type="button"><i class="fa fa-search"></i></button>
        </div>
      </div>

    </div>
  </div>

  <!--<div class="clearfix" style="padding-bottom: 20px; font-size: 18px;">
    <h5 class="pull-left"> 图文模式 </h5>
  </div>-->

  <div class="dashboard">
    <div class="grid grid-pad row">
      <div *ngFor="let data of boilers; trackBy: trackByUid" class="col-sm-12 col-md-6">
        <div class="flex_c module">
          <div class="status_name">
            <a [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank">
              <h5 class="">
                {{data.name}}
              </h5>
              <div class="flex">
                <a class="stat_label" [routerLink]="['/admin/terminal']"
                   [ngClass]="{'bg_info':data.termStatus > 0 ,'bg_grey':data.termStatus <= 0}" title="{{data.online}}">
                  终端
                </a>
                <a class="stat_label" [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank" title="{{data.isBurning}}"
                   [ngClass]="{'bg_info':data.termStatus > 0 && data.eptStatus ,'bg_grey':data.termStatus <= 0 || !data.eptStatus}">
                  运行
                </a>
                <a class="stat_label" [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank" title="{{data.warning}}"
                   [ngClass]="{'bg_grey':data.termStatus <= 0, 'bg-warning':data.termStatus > 0 && data.alarmStatus , 'bg_info':data.termStatus > 0 && !data.alarmStatus}">
                  告警
                </a>
                <a class="stat_label" [routerLink]="['/admin/runtime/' + data.uid + '/' + data.name + '/maintain/dashboard']" target="_blank" title="{{data.malfunction}}"
                   [ngClass]="{'bg_grey':data.termStatus <= 0, 'bg-warning':data.termStatus > 0 && data.mtStatus , 'bg_info':data.termStatus > 0 && !data.mtStatus}">
                  故障
                </a>
              </div>
            </a>
          </div>

          <div class="status_box">
            <div class="status_content">
              <div class="status_row">
                <div *ngIf="!data.param || data.param.length<=0" style="width: 60%; text-align: center; padding-top: 20px; color: #ccc; font-size: 24px;">
                  未测定
                </div>

                <div class="status_col" *ngFor="let item of data.runtimeList; let i = index;">
                  <div class="stat_key">
                    {{item.ChannelName}}
                  </div>
                  <div class="stat_val">
                    {{item.Value}} {{item.Unit}}
                  </div>
                </div>

                <!--<div class="status_col">
                  <div class="stat_key">
                    氮氧化物氧量折算值
                  </div>
                  <div class="stat_val">
                    0 mg/m³
                  </div>
                </div>

                <div class="status_col">
                  <div class="stat_key">
                    排烟温度
                  </div>
                  <div class="stat_val">
                    140.3 ℃
                  </div>
                </div>

                <div class="status_col">
                  <div class="stat_key">
                    排烟温度
                  </div>
                  <div class="stat_val">
                    140.3 ℃
                  </div>
                </div>-->
              </div>
              <!--<div class="status_row">
                <a class="status_col" [routerLink]="['/admin/terminal']"
                   [ngClass]="{'bg_info':data.termStatus > 0 ,'bg_grey':data.termStatus <= 0}">
                  {{data.online}} &lt;!&ndash;终端状态&ndash;&gt;
                </a>
                <a class="status_col" [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank"
                   [ngClass]="{'bg_info':data.termStatus > 0 && data.eptStatus ,'bg_grey':data.termStatus <= 0 || !data.eptStatus}">
                  {{data.isBurning}} &lt;!&ndash;运行状态&ndash;&gt;
                </a>
                <a class="status_col" [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank"
                   [ngClass]="{'bg_grey':data.termStatus <= 0, 'bg-warning':data.termStatus > 0 && data.alarmStatus , 'bg_info':data.termStatus > 0 && !data.alarmStatus}">
                  {{data.warning}}
                </a>
                <a class="status_col bg_grey" [routerLink]="['/admin/runtime/' + data.uid + '/' + data.name + '/maintain/dashboard']" target="_blank"
                   [ngClass]="{'bg_grey':data.termStatus <= 0, 'bg-warning':data.termStatus > 0 && data.mtStatus , 'bg_info':data.termStatus > 0 && !data.mtStatus}">
                  {{data.malfunction}}
                </a>
              </div>-->
            </div>
            <div class="img_content ">
              <a [routerLink]="['/admin/runtime', data.uid, data.name]" target="_blank">
                <img src="{{data.img}}" alt="">
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="clearfix mt-3">
      <!--<div class="pull-left"> 共 {{totalItems}} 项</div>-->
      <ngb-pagination class="pull-right"
                      [collectionSize]="totalItems"
                      [pageSize]="pageSize" [(page)]="page"
                      [maxSize]="3" [rotate]="true" [boundaryLinks]="false"
                      (pageChange)="pageChange()">
      </ngb-pagination>
    </div>
  </div>



</div>






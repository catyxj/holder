<div class="modal-header">
  <h4 class="modal-title">
    编辑告警规则
    <span class="text_purple"> [ {{currentData.Parameter.Name}} ] </span>
  </h4>
  <!--<button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('close')">
    <span aria-hidden="true">&times;</span>
  </button>-->
</div>

<div class="modal-body alarm_rule" >
  <div class="alarm_r_row" *ngFor="let al of alarm; let i = index">

    <div class="ar_1" style="flex: 2;">

      <div class="input-group">
        <span class="input-group-prepend">
          <span class="input-group-text">
            告警阀值
          </span>
        </span>

        <input type="text" nz-input [(ngModel)]="al.minValue" placeholder="最小值"
                         style="width:68px; height: 33.5px; border-radius: 0;">
        <input type="text" disabled placeholder="~" class="form-control"
               style="width: 30px; background-color: #ffffff; border-radius: 0; border-left: none; border-right: none;">
        <input type="text" nz-input [(ngModel)]="al.maxValue" placeholder="最大值"
                         style="width: 68px; height: 33.5px; border-bottom-left-radius: 0; border-top-left-radius: 0;">
      </div>

    </div>

    <div class="ar_2 ml-1" style="flex: 3;">
      <div class="input-group">
        <span class="input-group-prepend">
          <span class="input-group-text">
            告警描述
          </span>
        </span>
        <input type="text" [(ngModel)]="al.description"
               class="form-control"
               placeholder="" required>
      </div>
    </div>

    <div class="ar_3" style="flex: 1;">
      <nz-switch [(ngModel)]="al.priority" nzCheckedChildren="推送" nzUnCheckedChildren="不推送"
                 style="width: 80px; margin-left: 10px;"></nz-switch>

      <div style="width: 30px;cursor: pointer;" (click)="removeAlarm(i)">
        <i class="fa fa-minus text-danger"></i>
      </div>
    </div>



  </div>

  <div class="">
    <button type="button" (click)="addAlarm()" *ngIf="alarm.length < 10"
            class="btn btn_purple btn-block">
      <i class="fa fa-plus-circle"></i>
      添加告警规则
    </button>
  </div>


</div>

<div class="modal-footer">
  <button type="button" class="btn btn_purple" (click)="save()">
    <span class="">保存</span>
  </button>
  <button class="btn btn-default ml-3" type="button" (click)="activeModal.dismiss('close')">取消</button>
</div>



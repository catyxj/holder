
<div>
  <div class="r_dashbord_h">
    <div class="h_date">
      数据更新于 {{date | date: 'yyyy年MM月dd日HH时mm分'}} <!--2019年01月02日12时21分-->
    </div>
    <button class="btn btn_purple bpm" [routerLink]="['/admin/ordinary/equip-charts', uid]">
      数据详情
    </button>
  </div>

  <div class="r_dashboard_c">
    <div class="d_head">
      <h6>
        {{info?.name}}
      </h6>
      <div class="flex">
        <div class="tag" [class.blue]="online">
          联网
        </div>
        <div class="tag ml-1" [class.green]="run">
          运行
        </div>
        <div class="tag ml-1" [class.red]="alarm">
          警告
        </div>
        <div class="tag ml-1" [class.yellow]="malfunction">
          故障
        </div>
      </div>
    </div>

    <div>
      <div class="" style="position: relative; width: 100%; height: 500px; margin: auto;">

        <img src="{{bgImg}}" alt="" style="position: absolute; width: 100%; height: 100%;">

        <div *ngFor="let img of imgs1; trackBy: trackByUid;">
          <img src="{{img.imgs.src}}" alt="" [ngStyle]="img.style">
        </div>
        <div *ngFor="let img of imgs2; trackBy: trackByUid;">
          <img src="{{img.imgs.img}}" alt="" [ngStyle]="img.style">
        </div>
        <div *ngFor="let img of imgs3; trackBy: trackByUid;">
          <img src="{{img.src}}" alt="" [ngStyle]="img.style">
        </div>
        <div *ngFor="let btn of btns; trackBy: trackByUid;">
          <!--<button *ngIf="!status" class="btn btn-sm btn-success" [ngStyle]="btn.style" (click)="sendMes(1,btn)">
            启动
          </button>
          <button *ngIf="status" class="btn btn-sm btn-warning" [ngStyle]="btn.style" (click)="sendMes(2,btn)">
            关闭
          </button>-->
          <nz-switch [(ngModel)]="btn.switchValue" [ngStyle]="btn.style"
                     [nzControl]="true" (click)="clickSwitch(btn)" [nzLoading]="btn.loading">

          </nz-switch>
        </div>

        <div *ngFor="let data of dataLists1; trackBy: trackByUid;" class="dataC" [ngStyle]="data.style">
          <span>
            {{data.text}}
          </span>
        </div>

        <div *ngFor="let data of dataLists2; trackBy: trackByUid;" class="dataC" [ngStyle]="data.style">
          <span>
            {{data.name}}
          </span>
          <span *ngIf="data.chanType === '10' || data.chanType === '12'">
            ：
          </span>
          <span *ngIf="data.chanType === '10'">
            {{data.value}} {{data.unit}}
          </span>
          <span *ngIf="data.chanType === '12'">
            {{data.remark}}
          </span>
        </div>



      </div>
    </div>

  </div>


</div>







<div class="modal-header">
  <h4 class="modal-title">
    编辑告警规则
    <span class="text_info"> [ {{currentData.Parameter.Name}} ] </span>
  </h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('close')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body alarm_rule" >
  <div class="flex" *ngFor="let al of alarm; let i = index">

    <div class="form-group" style="flex: 2;">

      <div class="input-group">
        <span class="input-group-prepend">
          <span class="input-group-text">
            告警阀值
          </span>
        </span>
        <!--<select [(ngModel)]="al.compareValue"
                class="form-control" style="width: 20px;">
          <option *ngFor="let x of compares" [value]="x.id" >{{x.name}}</option>
        </select>-->
        <!--<input type="number" [(ngModel)]="al.minValue"
               class="form-control"
               placeholder="" required>

        <input type="number" [(ngModel)]="al.maxValue"
               class="form-control"
               placeholder="" required>-->

        <nz-input-number [(ngModel)]="al.minValue" [nzPlaceHolder]="'最小值'"
                         style="width:68px; height: 33.5px; border-radius: 0;">
        </nz-input-number>
        <input type="text" disabled placeholder="~" class="form-control"
               style="width: 30px; background-color: #ffffff; border-radius: 0; border-left: none; border-right: none;">
        <nz-input-number [(ngModel)]="al.maxValue" [nzPlaceHolder]="'最大值'"
                         style="width: 68px; height: 33.5px; border-bottom-left-radius: 0; border-top-left-radius: 0;">
        </nz-input-number>

      </div>

    </div>

    <div class="form-group ml-2" style="flex: 3;">
      <div class="input-group">
        <span class="input-group-prepend">
          <span class="input-group-text">
            告警描述
          </span>
        </span>
        <input type="text" [(ngModel)]="al.description"
               class="form-control"
               placeholder="" required>
      </div>
    </div>

    <div class="flex justify-content-between" style="flex: 1;">
      <nz-switch [(ngModel)]="al.priority" nzCheckedChildren="推送" nzUnCheckedChildren="不推送"
                 style="width: 80px; margin-left: 10px;"></nz-switch>

      <div style="width: 30px;cursor: pointer;" (click)="removeAlarm(i)">
        <i class="fa fa-minus text-danger"></i>
      </div>
    </div>



  </div>
  <button type="button" (click)="addAlarm()"
          class="btn btn_info btn-block">
    <i class="fa fa-plus-circle"></i>
    添加告警规则
  </button>

</div>

<div class="modal-footer">
  <button type="button" class="btn btn_info" (click)="save()">
    <span class="">保存</span>
  </button>
  <button class="btn btn-default" type="button" (click)="activeModal.dismiss('close')">取消</button>
</div>


